name: build test deploy

on:
 push:
  branches:
   - main
   
jobs:
 build:
  runs-on: ubuntu-latest

  steps:
   - name: checkout
     uses: actions/checkout@v3

   - name: set up java
     uses: actions/setup-java@v4
     with:
      java-version: 17

   - name: install dependencies
     run: npm install 

   - name: build with npm
     run: npm run build


   - name: Run Cypress tests
     uses: cypress-io/github-action@v6
     with:
       start: npm start
       wait-on: 'http://localhost:3000'
       wait-on-timeout: 60

   - name: Deploy
     run: npm run deploy
     env:
       GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN}}
       
 
     
     
   
      
      
     

      

   
 
     
   
